% Provides opinionated choice of packages and settings for maths
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{my_maths}[2020/03/31]

%%% Algorithmic environments
\RequirePackage{algorithm}
\RequirePackage{algpseudocode} % also loads algorithmicx

%%% Maths notation and environments
% mathtools loads amsmath and extends it
\RequirePackage{mathtools}
% Symbols, theorems and extended fonts for maths
\RequirePackage{amssymb,amsthm,amsfonts}
% Nomenclature table
\RequirePackage{nomencl}
\renewcommand{\nomname}{List of Symbols}
% Write differential operators and equations
\RequirePackage[ISO]{diffcoef}

%%% Theorem environments
% Add numberwithin=section to the declaration in order to have the section number as
% prefix to the theorem number. 
\declaretheorem[name=Theorem,refname=Thm.]{theorem}
\declaretheorem[name=Lemma,sibling=theorem]{lemma}
\declaretheorem[name=Fact,sibling=theorem]{fact}
\declaretheorem[name=Proposition,refname=Prop.,sibling=theorem]{proposition}
\declaretheorem[name=Remark]{remark}
\declaretheorem[name=Corollary,refname=Cor.,sibling=theorem]{corollary}
\declaretheorem[name=Definition,refname=Def.]{definition}
\declaretheorem[name=Conjecture,sibling=theorem]{conjecture}
\declaretheorem[name=Axiom]{axiom}
\declaretheorem[name=Assumption,refname=Asm.]{assumption}
\declaretheorem[name=Example]{example}
% used for AfterEndEnvironment
% to remove the indentation after theorem environments
% if we remove it we simply need to add \noindent after any
% restatable environment
\RequirePackage{etoolbox}
\AfterEndEnvironment{restatable}{\noindent\ignorespacesafterend}
\AfterEndEnvironment{theorem}{\noindent\ignorespacesafterend}
\AfterEndEnvironment{remark}{\noindent\ignorespacesafterend}
\AfterEndEnvironment{example}{\noindent\ignorespacesafterend}
\AfterEndEnvironment{assumption}{\noindent\ignorespacesafterend}
\AfterEndEnvironment{lemma}{\noindent\ignorespacesafterend}

%%% Cleverref for reference
\RequirePackage{cleverref}
\crefname{assumption}{Assumption}{Assumptions}
\crefname{equation}{Eq.}{Eqs.}
\crefname{figure}{Fig.}{Fig.}
\crefname{table}{Table}{Tables}
\crefname{section}{Sec.}{Sec.}
\crefname{theorem}{Thm.}{Thm.}
\crefname{fact}{Fact}{Facts}
\crefname{lemma}{Lemma}{Lemmas}
\crefname{corollary}{Cor.}{Cor.}
\crefname{example}{Example}{Examples}
\crefname{remark}{Remark}{Remarks}
\crefname{algorithm}{Alg.}{Algorithms}
\crefname{appendix}{Appendix}{Appendices}
